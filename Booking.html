<!--
Meeting Room Booking Page (for Google Apps Script)

Files included in this single document:
1) Index.html - Bootstrap 5 UI for booking form
2) Code.gs    - Google Apps Script server code to serve the page, read/write Google Sheets and check conflicts

Usage:
- Create a new Google Apps Script project and add an HTML file named "Index" with the Index.html content below.
- Add a script file (Code.gs) and paste the Code.gs content.
- Update SHEET_ID or use SpreadsheetApp.getActiveSpreadsheet() if running bound to a sheet.
- Deploy as Web App (or use as sidebar/dialog in Sheets) and grant permissions.
-->

<!-- ======================== Index.html ======================== -->
<!doctype html>
<html lang="th">
  <head>
    <base target="_top">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üìÖ ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun&display=swap" rel="stylesheet">

    <style>
      body { background: linear-gradient(180deg,#f8fafc,#eef2ff); font-family: 'Sarabun', sans-serif; }
      .card { border-radius: 12px; box-shadow: 0 6px 18px rgba(20,20,50,0.06); }
      .required::after { content: " *"; color: #d63384; }
      @media (max-width: 576px) {
        .card { margin: 0 0.5rem; }
      }
    </style>
    <link rel="icon" type="image/x-icon" href="bud.ico">
  </head>
  <body>

    <div class="modal fade" id="loadingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="loadingModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered border-0">
            <div class="modal-content" style="background-color: transparent; border: none;">
                <div class="modal-body text-center">
                    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-3 fs-5 text-white">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid py-4">
      <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
          <div class="card p-4">
            <h3 class="mb-3">üìÖ ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° [demo]</h3>
            <p class="text-muted small">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î <strong>‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠</strong> ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ã‡πâ‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p>

            <form id="bookingForm" class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label required">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
                  <input type="text" class="form-control" id="contactName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•" required>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</div>
                </div>
                <div class="col-md-6">
                  <label class="form-label required">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
                  <input type="tel" class="form-control" id="contactPhone" placeholder="081-XXX-XXXX" required>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
                </div>

                <div class="col-md-6">
                  <label class="form-label required">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á</label>
                  <select id="roomDropdown" class="form-select" required>
                    <option value="">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</option>
                  </select>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á</div>
                </div>

                <div class="col-md-6">
                  <label class="form-label required">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                  <input type="date" id="dateInput" class="form-control" required>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</div>
                </div>

                <div class="col-md-6">
                  <label class="form-label required">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
                  <input type="time" id="startTime" class="form-control" required>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</div>
                </div>
                <div class="col-md-6">
                  <label class="form-label required">‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                  <input type="time" id="endTime" class="form-control" required>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°)</div>
                </div>

                <div class="col-12">
                  <label class="form-label required">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö</label>
                  <input type="text" id="purpose" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ó‡∏µ‡∏°, ‡∏™‡∏±‡∏°‡∏°‡∏ô‡∏≤ ‡∏Ø‡∏•‡∏Ø" required>
                  <div class="invalid-feedback">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</div>
                </div>

                <div class="col-6 d-grid">
                  <button id="submitBtn" class="btn btn-primary btn-lg" type="submit">
                    <span id="btnText">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠</span>
                    <span id="btnSpinner" class="spinner-border spinner-border-sm ms-2 d-none" role="status" aria-hidden="true"></span>
                  </button>
                </div>

                <div class="col-6 d-grid">
                  <a href="index.html" class="btn btn-outline-secondary btn-lg w-100">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô</a>
                </div>

                <div class="col-12">
                  <div id="alertArea"></div>
                  <div id="" style="margin-top: 15px; font-weight: bold;"></div>
                </div>

              </div>
            </form>

          </div>

          <h4 class="mt-3">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h4>
          <div class="table-responsive">
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>‡∏´‡πâ‡∏≠‡∏á</th>
                  <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</th>
                  <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                  <th>‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</th>
                  <th>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</th>
                  <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</th>
                </tr>
              </thead>
              <tbody id="bookingTableBody">
                <tr><td colspan="6" class="text-center text-muted">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</td></tr>
              </tbody>
            </table>
          </div>

          <div class="mt-3 text-center text-muted small">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° ‚Ä¢ Responsive ‚Ä¢ Bootstrap 5 ‚Ä¢ Created By üëæ tosmile</div>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS (bundle includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="Config.js"></script>

    <script>
           let webAppUrl = `${WEB_APP_DATA}`;

               const bookingTableBody = document.getElementById('bookingTableBody');
               const roomDropdown = document.getElementById('roomDropdown');

               // 1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Modal ‡∏ô‡∏≠‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
               const loadingModal = new bootstrap.Modal(document.getElementById('loadingModal'));


               // ‚úÖ 2. ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Event Listener ‡πÄ‡∏õ‡πá‡∏ô async function ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ await ‡πÑ‡∏î‡πâ
               document.addEventListener('DOMContentLoaded', async function() {

                   try {
                       // 3. ‡πÅ‡∏™‡∏î‡∏á Popup "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î..." ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                       loadingModal.show();

                       // 4. ‡πÉ‡∏ä‡πâ Promise.all ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡πÉ‡∏´‡πâ fetch ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
                       // ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ fetch ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
                       await Promise.all([
                           fetchBookings(),
                           fetchRooms()
                       ]);

                   } catch (error) {
                       // ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏≠ Promise.all
                       // (‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏π‡∏Å‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ error ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏ï‡∏≤‡∏°)
                       console.error("An error occurred during initial data loading:", error);
                   } finally {
                       // 5. ‡∏ã‡πà‡∏≠‡∏ô Popup ‡πÄ‡∏™‡∏°‡∏≠ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
                       // ‡πÉ‡∏ä‡πâ setTimeout ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•‡∏Ç‡∏∂‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)
                       setTimeout(() => {
                           loadingModal.hide();
                       }, 300); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 0.3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                   }
               });

               // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö fetch "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á" (‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
               async function fetchBookings() {
                   const url = `${webAppUrl}?action=getBookings`;
                   try {
                       const response = await fetch(url);
                       if (!response.ok) throw new Error('Network response was not ok.');

                       const data = await response.json();
                       if (data.error) throw new Error(data.message);

                       bookingTableBody.innerHTML = '';
                       if (data.length === 0) {
                           bookingTableBody.innerHTML = '<tr><td colspan="6" class="text-center">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</td></tr>';
                           return;
                       }
                       data.forEach(booking => {
                           const row = `<tr>
                                           <td>${booking.room}</td>
                                           <td>${booking.date}</td>
                                           <td>${booking.time}</td>
                                           <td>${booking.booker} (üìû${booking.tel})</td>
                                           <td>${booking.purpose}</td>
                                           <td>${booking.timestamp}</td>
                                        </tr>`;
                           bookingTableBody.insertAdjacentHTML('beforeend', row);
                       });
                   } catch (error) {
                       bookingTableBody.innerHTML = `<tr><td colspan="6" class="text-center text-danger">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á: ${error.message}</td></tr>`;
                   }
               }

               // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö fetch "‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á" (‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
               async function fetchRooms() {
                   const url = `${webAppUrl}?action=getRooms`;
                   try {
                       const response = await fetch(url);
                       if (!response.ok) throw new Error('Network response was not ok.');

                       const roomList = await response.json();
                       if (roomList.error) throw new Error(roomList.message);

                       roomDropdown.innerHTML = '<option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á --</option>';
                       roomList.forEach(room => {
                           const option = `<option value="${room}">${room}</option>`;
                           roomDropdown.insertAdjacentHTML('beforeend', option);
                       });
                   } catch (error) {
                       roomDropdown.innerHTML = `<option value="">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${error.message}</option>`;
                   }
               }
   </script>
<!-- //////////////////////// -->
  <script>

    document.getElementById("bookingForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      e.stopPropagation();

      const btn = document.getElementById("submitBtn");
      const btnText = document.getElementById("btnText");
      const btnSpinner = document.getElementById("btnSpinner");
      const alertArea = document.getElementById("alertArea");

      const form = document.getElementById('bookingForm');
      if (!form.checkValidity()) {
        form.classList.add('was-validated');
        alertArea.innerHTML = "";
        return;
      }

      // ‡πÅ‡∏™‡∏î‡∏á loading
      btn.disabled = true;
      btnText.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...";
      btnSpinner.classList.remove("d-none");
      alertArea.innerHTML = "";

      // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å form
      const data = {
        route: "save",
        contactName: document.getElementById("contactName").value,
        contactPhone: document.getElementById("contactPhone").value,
        room: document.getElementById("roomDropdown").value,
        date: document.getElementById("dateInput").value,
        startTime: document.getElementById("startTime").value,
        endTime: document.getElementById("endTime").value,
        purpose: document.getElementById("purpose").value
      };

      try {
        const res = await fetch(webAppUrl + "?route=save", {
          method: "POST",
          body: JSON.stringify(data)
        });

        const result = await res.json();


        if (result.status === "success") {
          alertArea.innerHTML = `<div class="alert alert-success">${result.message}</div>`;
          form.reset();
          form.classList.remove("was-validated");
          fetchBookings();
        } else {
          let conflictDetails = "";
          if (result.conflicts) {
            conflictDetails = result.conflicts.map(c =>
              `‚Ä¢ ‡πÄ‡∏ß‡∏•‡∏≤: ${c.existingStart} - ${c.existingEnd} <br/>` +
              `  ‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: ${c.contactName} (${c.contactPhone}) <br/>` +
              `  ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå: ${c.purpose}`
            ).join("<br/><br/>");
          }
          alertArea.innerHTML = `
            <div class="alert alert-danger">
              ${result.message} <br/><br/>
              ${conflictDetails}
            </div>
          `;
        }
      } catch (err) {
        alertArea.innerHTML = `<div class="alert alert-danger">‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${err}</div>`;
      }

      // reset ‡∏õ‡∏∏‡πà‡∏°
      btn.disabled = false;
      btnText.textContent = "‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠";
      btnSpinner.classList.add("d-none");
    });
  </script>

  </body>
</html>
